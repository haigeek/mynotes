frm solution下的方法
设置datasource绑定treelist
private void getResourceType() 获取资源类型

private void UIFilterByUserRole() 根据用户角色权限对界面进行过滤

private object getDomainResource() 资源空间域（空间域过滤） 主要通过ServiceManagers.UserResourceService.FindByPropertyNameAndValueObject方法建立list回去资源

private void SetNodeImg(TreeListNode node) 设置树节点img  根据SYS_GIS_SOLUTION中的ISACTIVE 字段进行判断

private void DeleteNode(TreeListNode node) 删除树节点 遍历TreeListNode 的nodes 若节点有子节点进行删除，没有子节点但是该节点的tag不为空，则清空该节点的内容，发生异常则记录到日志中

private void RefreshChange(bool isChange) 是否进行刷新操作

private void barBnMoveUp_ItemClick(object sender,DevExpress.XtraBars.ItemClickEventArgs e)上移操作，调用moveup后刷新

private void barBnMoveDown_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e)下移操作，调用movedown后刷新

private void SynTopicTypePosition(TreeListNodes nodes) 同步专题类型的位置，遍历treelist节点，先设置node的img，如果节点node的tag能否转换为SYS_GIS_TOPICTYPE，如果可以进行转换 ，记录节点的标题级别和位置索引号存储在topicTypeCatalog，如果是topic实体，保存topic的 POSITION信息到SYS_GIS_TOPIC表中，所有节点的标题级别和位置索引号存储到SYS_GIS_TOPICTYPECATALOG中，在这个函数使用了递归完成了所有节点的遍历

private void barBnAddSolution_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e)添加图层方案

private void SynSolutionPosition() 保存方案位置，通过索引号实现

private void treeList1_AfterExpand(object sender, NodeEventArgs e) 点击解决方案节点的响应事件，加载专题

private void LoadTopics(TreeListNode parentNode, string parentGuid)加载专题，通过TopicService.GetSubTopics(parentGuid)获取专题实体以及类型，通过treelist的AppendNode方法建立专题树，如果是专题实体，直接添加节点，如果是专题类型，那么通过递归一层一层建立到最高一层

private void LoadGrouplayer(string parentCode, TreeListNode parentNode) 加载组图层

private void menuAddCatalog_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 添加目录功能，实际是添加专题类型，设置topicType的各种属性

private string getSolutionCode(TreeListNode parentNode) 根据parentNode父节点获取方案Code

private void menuAddTopic_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 添加专题按钮

private TreeListNode AddCatalog(SYS_GIS_TOPICTYPE topicType, TreeListNode parentNode) 在节点上添加目录的实现函数

private void menuMove_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 专题移动按钮

private void frmTopicMove_synRefreshTopicTree(object sender, EventArgs e) 专题移动后同步刷新专题树函数

public SYS_GIS_SOLUTION getSolution( TreeListNode node) 获取解决方案函数

private void menuEdit_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 目录编辑函数

private void frmTopicInfo_UpdateClick(object sender, EventArgs e) 专题信息更新

private void menuDelete_ItemClick(object senderDevExpress.XtraBars.ItemClickEventArgs e) 节点删除函数

private void UnregisterResource(TreeListNode node) 清除选中节点专题/方案的相关数据

private void DeleteThread() 删除实现函数

private void menuMoveup_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 菜单里上移函数

private void MoveUp() 上移函数实现

private void menuImp_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 导入服务

private void treeList1_MouseDown(object sender, MouseEventArgs e) 专题树ouseDown事件

private void UIFilterByUserRole1() 根据用户的角色权限对界面进行过滤的具体实现

private void frmCatalog_UpdateClick(object sender, EventArgs e) 目录修改实现函数

private void frmSolution_UpdateClick(object sender, EventArgs e) 解决方案修改函数

private void menuUnUse_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 菜单无用事件

private void menuDefault_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 菜单默认函数

private void menuAddDynamicTopic_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e)添加动态专题

private void menuAddStaticTopic_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 添加静态专题

private void menuImpStaticService_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 菜单导入静态服务

private void treeList1_MouseDoubleClick(object sender, MouseEventArgs e) 双击treeList1事件

专题树拖拽
private TreeListNode GetDragNode(IDataObject data)
private void treeTopic_DragOver(object sender, DragEventArgs e)
private void treeTopic_DragDrop(object sender, DragEventArgs e)
private void MoveNode(DragEventArgs e, TreeListNode dragNode, TreeListNode targetNode)

private void checkRootNode() 检查根节点函数

private void barMenuImpXML_ItemClick(object sender, DevExpress.XtraBars.ItemClickEventArgs e) 导入专题树xml格式

private void SaveSolutionThread(object sol) 线程保存方案





treelist控件的使用
运维系统的权限模型整理，图文结合；
绑定数据时候，只需指定DataSource为对应 的DataTable,指定KeyFieldName为表主键字段，ParentFieldName为表指向主键的外键字段名。
```c#
DataTable dt = new DataTable();
    dt.Columns.Add("GUID");
    dt.Columns.Add("PARENTGUID");
    dt.Columns.Add("名称");
    dt.Columns.Add("IsCreate");//“1”为自己创建的，“0”为市局授权获得的
    treeTopic.DataSource = dt;
    treeTopic.KeyFieldName = "GUID";
    treeTopic.ParentFieldName = "PARENTGUID";
```