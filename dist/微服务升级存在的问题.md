# 微服务升级存在的问题

## 发现的问题

1、dgp-dependencies的使用不规范

2、是否继续采用war部署的方式 暂时使用

3、api模块是否可以存放实体相关的数据，部分系统继续存放entity，部分系统放在了domain

## 建议考虑的问题

1、需要看一下目前各个模块的infrastructure的情况初步设计一下公共infrastructure，因为目前没有一个infrastructure模块，所以一些公共配置的存放位置不一致，例如：

1. 统一响应体，统一响应工具
2. 全局异常处理工具
3. 参数校验

其中1、2在我们的api适配工具已经引入，为了解决接口调用的响应问题

可以在后续统一了公共infrastructure的再对已有代码进行规范

2、接口访问权限的控制在新的架构下如何处理，假如最终的入口在网关层，每个服务接口通过过滤器设置权限的方式是否还有必要

3、下面的一些配置是否考虑统一在网关进行配置

1. 跨域设置
2. swagger文档设置

