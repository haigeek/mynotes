阿里巴巴Java开发手册读书笔记

### 命名风格

类名

1. 【强制】类名使用 UpperCamelCase 风格，必须遵从驼峰形式，但以下情形例外:DO / BO / DTO / VO / AO

2. 【强制】方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格，必须遵从 驼峰形式。 

3. 【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。 

4. 【强制】抽象类命名使用 Abstract 或 Base 开头;异常类命名使用 Exception 结尾;测试类 命名以它要测试的类的名称开始，以 Test 结尾。 

5. 【强制】POJO 类中布尔类型的变量，都不要加 is，否则部分框架解析会引起序列化错误。

6. 【参考】各层命名规约:
    A) Service/DAO层方法命名规约 

   1) 获取单个对象的方法用get做前缀。 

   2) 获取多个对象的方法用list做前缀。

    3) 获取统计值的方法用count做前缀。 

   4) 插入的方法用save/insert做前缀。 

   5) 删除的方法用remove/delete做前缀。 6) 修改的方法用update做前缀。 

   B) 领域模型命名规约
    1) 数据对象:xxxDO，xxx即为数据表名。
    2) 数据传输对象:xxxDTO，xxx为业务领域相关的名称。

    3) 展示对象:xxxVO，xxx一般为网页名称。
    4) POJO是DO/DTO/BO/VO的统称，禁止命名成xxxPOJO。 

### 常量命名

1. 【强制】long 或者 Long 初始赋值时，使用大写的 L，不能是小写的 l，小写容易跟数字 1 混
   淆，造成误解。

2. 【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面
   正例中的数字就是延伸信息，表示星期几。
   正例:public Enum { MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6),
   SUNDAY(7);}

3. 【强制】if/for/while/switch/do 等保留字与括号之间都必须加空格。 

4. 【强制】任何二目、三目运算符的左右两边都需要加一个空格。 

   说明:运算符包括赋值运算符=、逻辑运算符&&、加减乘除符号等。 

### OOP规约

1. 【强制】Object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用 equals。 

   正例:"test".equals(object);
   反例:object.equals("test");
   说明:推荐使用 java.util.Objects#equals(JDK7 引入的工具类)

2. 【强制】所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。

   说明:对于 Integer var = ? 在-128 至 127 范围内的赋值，Integer 对象是在IntegerCache.cache 产生，会复用已有对象，这个区间内的 Integer 值可以直接使用==进行 

   判断，但是这个区间之外的所有数据，都会在堆上产生，并不会复用已有对象，这是一个大坑， 推荐使用 equals 方法进行判断。 

3. 关于基本数据类型与包装数据类型的使用标准如下:
   1) 【强制】所有的POJO类属性必须使用包装数据类型。
   2) 【强制】RPC方法的返回值和参数必须使用包装数据类型。
   3) 【推荐】所有的局部变量使用基本数据类型。
   说明:POJO 类属性没有初值是提醒使用者在需要使用时，必须自己显式地进行赋值，任何 

   NPE 问题，或者入库检查，都由使用者来保证。
    正例:数据库的查询结果可能是 null，因为自动拆箱，用基本数据类型接收有 NPE 风险。 反例:比如显示成交总额涨跌情况，即正负 x%，x 为基本数据类型，调用的 RPC 服务，调用 

   不成功时，返回的是默认值，页面显示为 0%，这是不合理的，应该显示成中划线。所以包装 数据类型的 null 值，能够表示额外的信息，如:远程调用失败，异常退出。 

4. 【强制】定义 DO/DTO/VO 等 POJO 类时，不要设定任何属性默认值。
    反例:POJO类的gmtCreate默认值为new Date();但是这个属性在数据提取时并没有置入具
    体值，在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。

